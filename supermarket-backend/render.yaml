services:
  type: web
  name: supermarket-api
  env: docker
  plan: free
  dockerfilePath: ./Dockerfile
  dockerContext: .
  autoDeploy: true
  envVars:
    - key: PORT
      value: 10000
    - key: DATABASE_URL
      fromDatabase:
        name: supermarket-db
        property: connectionString
    - key: DATABASE_USER
      fromDatabase:
        name: supermarket-db
        property: user
    - key: DATABASE_PASSWORD
      fromDatabase:
        name: supermarket-db
        property: password
    - key: MPESA_CONSUMER_KEY
      value: your_consumer_key_here
    - key: MPESA_CONSUMER_SECRET
      value: your_consumer_secret_here
    - key: MPESA_PASSKEY
      value: your_passkey_here
    - key: SIMULATE_MPESA
      value: true

databases:
  - name: supermarket-db
    plan: free
